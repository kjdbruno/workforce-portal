import{b as pe,r as d,S as k,T as y,U as c,Y as n,a3 as H,a4 as D,Z as i,a2 as me,a5 as ve,a1 as N,a6 as ge,a7 as Fe,a8 as Le,a9 as I,_ as te,aa as R,ab as le,$ as he,a0 as xe,ac as be,ad as Ve,ae as $e,af as Ee}from"./index-BB7BcdYj.js";import{u as Ue,Q as fe,a as _e,S as F,_ as Se,b as qe}from"./_plugin-vue_export-helper-BBJrC21M.js";import{b as Ce,c as je}from"./QLayout-Bjz1myPd.js";import{api as ae}from"./axios-BI-bIKOT.js";import{T as se}from"./sweetalert-CFUHsfvP.js";import{S as ye,d as oe,n as L}from"./simple-vue-camera.umd-DcZ6CKWX.js";import{_ as Ie,a as Ne,b as ze,c as Oe,d as Re,e as Ae,f as Be,g as Pe,h as Te,i as Me,j as He,k as Qe,l as Ge,m as Je,n as We,o as Ye,p as Ze,q as Ke,r as Xe,s as et,t as tt,u as at,v as st,w as ot,x as nt,Q as rt}from"./QDate-CEiAOX9H.js";import"./format-CkOkVHFh.js";const lt={class:"q-gutter-sm"},it={class:"text-center"},ct={__name:"BiometricDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(Q,{emit:A}){const w=Ue(),b=Q,S=A,p=pe({get:()=>b.modelValue===b.dialogName,set:t=>{t||S("update:modelValue",null)}}),v=d(!1),U=d(!1),V=d(null);async function Z(){const t="/models";await L.ssdMobilenetv1.loadFromUri(t),await L.faceLandmark68Net.loadFromUri(t),await L.faceRecognitionNet.loadFromUri(t),await L.faceExpressionNet.loadFromUri(t)}async function G(){if(!V.value)return null;try{const t=await V.value.snapshot();return await h(t)}catch(t){return console.error("Error capturing snapshot:",t),null}}function h(t){return new Promise((s,u)=>{const g=new Image;g.onload=()=>s(g),g.onerror=u,g.src=URL.createObjectURL(t)})}async function x(){const t=await G();if(!t)return null;const s=await oe(t).withFaceLandmarks().withFaceDescriptor();return s?{descriptor:s.descriptor,img:t}:null}const K=t=>{const s=Array.isArray(t)?t:t?.errors||[];Object.keys(Errors).forEach(u=>{Errors[u].type=null,Errors[u].messages=[]}),s.forEach(u=>{Errors[u.path]!==void 0&&(Errors[u.path].type=!0,Errors[u.path].messages.push(u.msg))})};async function J(t){const s=t instanceof ArrayBuffer?t:t instanceof Blob?await t.arrayBuffer():new TextEncoder().encode(String(t)).buffer,u=await crypto.subtle.digest("SHA-256",s);return[...new Uint8Array(u)].map(g=>g.toString(16).padStart(2,"0")).join("")}function X(){const t="device_id";let s=localStorage.getItem(t);return s||(s=crypto.randomUUID(),localStorage.setItem(t,s)),s}async function $(){try{const s=(await navigator.mediaDevices.enumerateDevices()).filter(u=>u.kind==="videoinput");return s[0]?.label||s[0]?.deviceId||"unknown-camera"}catch{return"unknown-camera"}}const q=d([]),z=d(!1),f=async()=>{U.value=!0;try{const{passed:t,happy:s}=await B(6e3,.7);if(!t){F.fire({icon:"error",title:"Liveness Failed",text:"Please smile clearly to continue.",confirmButtonColor:"#d33"});return}const u=await x(),g=await V.value.snapshot(),m=await J(g),E=X(),C=await $(),T=P.value,Y=O.value,M=Array.from(u.descriptor),e={employee_id:w?.employee?.id||null,descriptor:M,geo_lat:T,geo_lng:Y,camera_id:C,device_id:E,image_hash:m,captured_at:new Date().toISOString(),source:"Web"},a=await J(JSON.stringify(e)),r=new FormData;r.append("descriptor",JSON.stringify(M)),r.append("geo_lat",T??""),r.append("geo_lng",Y??""),r.append("camera_id",C),r.append("device_id",E),r.append("image_hash",m),r.append("payload_hash",a),r.append("source","Web"),r.append("captured_at",new Date().toISOString()),r.append("file",g,`capture-${Date.now()}.jpg`);const _=await ae.post("/portal/biometric",r,{headers:{"Content-Type":"multipart/form-data"}}),{match:j,employee:ee,log:ie,distance:ce,liveness_passed:de}=_.data,ne=Math.max(0,Math.min(1,1-Number(ce||0)));if(!j)F.fire({icon:"error",title:"Face Not Recognized",text:"No matching employee found."});else{const ue=`${ee.first_name} ${ee.middle_name??""} ${ee.last_name}`.toUpperCase(),re=new Date(`${ie.captured_at}`),De=re.toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),ke=re.toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});F.fire({icon:"success",title:"LOG RECORDED",html:`
                    <div style="font-size:1.25em;font-weight:bold;">${ue}</div>
                    <div style="font-size:1em; margin-top:5px;">${De} @ ${ke}</div>
                    <div style="font-size:.9em; margin-top:5px;">Score: ${ne.toFixed(4)} | Liveness: ${de?"Passed":"Failed"}</div>
                `})}S("update:modelValue",null)}catch(t){t.response&&t.response.data&&(K(t.response.data),se.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{U.value=!1}},B=async(t=5e3,s=.7)=>{const u=Date.now();for(;Date.now()-u<t;){const g=await G();if(!g)continue;const m=await oe(g).withFaceLandmarks().withFaceExpressions();if(!m)continue;const E=m.expressions?.happy||0;if(E>=s)return{passed:!0,happy:E};await new Promise(C=>setTimeout(C,200))}return{passed:!1,happy:0}},W=async t=>{await Z(),q.value=[],z.value=!1,l(),v.value=!0},P=d(null),O=d(null),o=d(null),l=()=>{if(!navigator.geolocation){o.value="Geolocation not supported";return}navigator.geolocation.getCurrentPosition(t=>{P.value=t.coords.latitude,O.value=t.coords.longitude},t=>{o.value=t.message},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return(t,s)=>(y(),k(ge,{modelValue:p.value,"onUpdate:modelValue":s[2]||(s[2]=u=>p.value=u),persistent:"",class:"dialog",onBeforeShow:s[3]||(s[3]=u=>{W()})},{default:c(()=>[n(H,{class:"dialog-card column full-height"},{default:c(()=>[n(D,{class:"q-pa-lg"},{default:c(()=>s[4]||(s[4]=[i("div",{class:"text-h6 text-uppercase"},"time in/time out",-1)])),_:1,__:[4]}),n(D,{class:"q-pa-none"},{default:c(()=>[n(me(ye),{ref_key:"camera",ref:V},null,512)]),_:1}),n(ve,{class:"q-pa-lg bg",align:"center"},{default:c(()=>[i("div",lt,[n(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"scan",onClick:s[0]||(s[0]=u=>f())}),n(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:s[1]||(s[1]=()=>{S("update:modelValue",null)}),outline:""})])]),_:1}),n(fe,{showing:U.value,dark:""},{default:c(()=>[i("div",it,[n(_e,{size:"xl",color:"white"}),s[5]||(s[5]=i("div",{class:"text-h6 text-white text-uppercase q-mt-xs"},"please smile to continue!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},dt={class:"row q-col-gutter-lg"},ut={class:"col-4"},pt={class:"cover-photo"},mt=["src"],vt=["src"],gt={class:"text-caption text-uppercase text-white"},ft={class:"text-h5 text-uppercase text-bold text-white"},_t={class:"text-body1 text-uppercase text-white"},yt={class:"text-caption text-uppercase text-white"},wt={class:"col"},ht={key:0},xt={class:"card-grid"},bt={class:"inner-card-anim-wrapper",style:{animationDelay:"100ms"}},St={class:"text-caption text-dark text-uppercase"},Dt={class:"absolute-left"},kt={key:1},Ft={class:"q-mb-md"},Lt={class:"q-gutter-sm"},Vt={class:"text-center"},we=2,$t=25,Et={__name:"leaveDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(Q,{emit:A}){const w=Q,b=A,S=pe({get:()=>w.modelValue===w.dialogName,set:e=>{e||b("update:modelValue",null)}}),p=d(!1),v=d(null);async function U(){const e="/models";await L.ssdMobilenetv1.loadFromUri(e),await L.faceLandmark68Net.loadFromUri(e),await L.faceRecognitionNet.loadFromUri(e)}async function V(){if(!v.value)return null;try{const e=await v.value.snapshot();return await Z(e)}catch(e){return console.error("Error capturing snapshot:",e),null}}function Z(e){return new Promise((a,r)=>{const _=new Image;_.onload=()=>a(_),_.onerror=r,_.src=URL.createObjectURL(e)})}async function G(){const e=await V();if(!e)return null;const a=await oe(e).withFaceLandmarks().withFaceDescriptor();return a?{descriptor:a.descriptor,img:e}:null}const h=d([]),x=d(!1),K=async()=>{p.value=!0;const e=await G();try{const a=await ae.post("/portal/face",{descriptor:Array.from(e.descriptor)}),{match:r,employee:_,distance:j}=a.data;r?(h.value=_,x.value=!0):F.fire({icon:"error",title:"Face Not Recognized",text:"No matching employee found in the system."})}catch(a){a.response&&a.response.data&&se.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `})}finally{p.value=!1}},J=e=>{const a="https://hris-ccmi",r="/photos/Default.png";return e?`${a}${e}`:`${a}${r}`},X=e=>{if(!e)return"";const a=e.first_name||"",r=e.middle_name?e.middle_name.charAt(0).toUpperCase()+".":"",_=e.last_name||"",j=e.suffix?` ${e.suffix}`:"";return`${a} ${r} ${_}${j}`.trim()},$=d(""),q=d(""),z=d(""),f=Fe({typeid:{type:null,message:""},date:{type:null,message:""},reason:{type:null,message:""}}),B=()=>se.fire({icon:"error",html:`
        <div class="text-h6 text-bold text-uppercase">Request Failed</div>
        <div class="text-caption">Something went wrong.</div>
        `}),W=(e,a="required")=>(f[e].type=!0,f[e].msg=a,!0),P=e=>(f[e].type=null,f[e].msg="",!1),O=(e,a)=>a?P(e):W(e,"required"),o=()=>{let e=!1;return e||=O("typeid",$.value),e&&B(),!e},l=()=>{let e=!1;return e||=O("date",q.value),e||=O("reason",z.value),e&&B(),!e},t=async()=>{if(!l())return;p.value=!0;const e=q.value.from,a=q.value.to;try{const r=h.value,_=await ae.post("/portal/leave",{employeeid:r.id,typeid:$.value,datestart:e,dateend:a,reason:z.value});F.fire({icon:"success",title:"Leave Filed"}),b("update:modelValue",null),h.value=[],x.value=!1}catch(r){r.response&&r.response.data&&se.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `})}finally{p.value=!1}},s=d([]);d([]);const u=async()=>{try{const{data:e}=await ae.get("/portal/option/leavetype");s.value=e}catch(e){console.error("Error fetching options:",e)}},g=async()=>{m.value=0,await U(),h.value=[],x.value=!1,u()},m=d(0),E=[o],C=()=>{const e=E[m.value];e&&!e()||m.value++},T=()=>{m.value>0&&m.value--},Y=d(null),M=d("");return Le(()=>{const e=Math.floor(Math.random()*$t)+1;M.value=new URL(Object.assign({"../assets/cover/1.jpg":nt,"../assets/cover/10.jpg":ot,"../assets/cover/11.jpg":st,"../assets/cover/12.jpg":at,"../assets/cover/13.jpg":tt,"../assets/cover/14.jpg":et,"../assets/cover/15.jpg":Xe,"../assets/cover/16.jpg":Ke,"../assets/cover/17.jpg":Ze,"../assets/cover/18.jpg":Ye,"../assets/cover/19.jpg":We,"../assets/cover/2.jpg":Je,"../assets/cover/20.jpg":Ge,"../assets/cover/21.jpg":Qe,"../assets/cover/22.jpg":He,"../assets/cover/23.jpg":Me,"../assets/cover/24.jpg":Te,"../assets/cover/25.jpg":Pe,"../assets/cover/3.jpg":Be,"../assets/cover/4.jpg":Ae,"../assets/cover/5.jpg":Re,"../assets/cover/6.jpg":Oe,"../assets/cover/7.jpg":ze,"../assets/cover/8.jpg":Ne,"../assets/cover/9.jpg":Ie})[`../assets/cover/${e}.jpg`],import.meta.url).href}),(e,a)=>(y(),k(ge,{modelValue:S.value,"onUpdate:modelValue":a[8]||(a[8]=r=>S.value=r),persistent:"",class:"dialog",onBeforeShow:a[9]||(a[9]=r=>g())},{default:c(()=>[n(H,{class:"dialog-card column full-height"},{default:c(()=>[n(D,{class:"q-pa-lg"},{default:c(()=>a[10]||(a[10]=[i("div",{class:"text-h6 text-uppercase"},"file a leave",-1)])),_:1,__:[10]}),x.value?(y(),k(D,{key:1,class:"col q-pa-lg"},{default:c(()=>[i("div",dt,[i("div",ut,[n(H,{key:"data-add",class:"card card-profile no-shadow radius-sm q-mb-sm q-pb-lg"},{default:c(()=>[i("div",pt,[i("img",{src:M.value,alt:"Cover"},null,8,mt)]),n(D,{class:"text-center profile-section"},{default:c(()=>[i("img",{src:J(h.value?.photo?.avatar),alt:"Profile",class:"profile-img"},null,8,vt)]),_:1}),n(D,{class:"text-center q-pt-sm"},{default:c(()=>[i("div",gt,I(h.value?.employment?.employee_no),1),i("div",ft,I(X(h.value)),1),i("div",_t,I(h.value?.employment?.position?.name),1),i("div",yt,I(h.value?.employment?.employment_status),1)]),_:1})]),_:1})]),i("div",wt,[m.value===0?(y(),te("div",ht,[i("div",{class:le(["text-caption text-uppercase q-mb-sm",f.typeid.type?"text-negative text-italic":"text-grey"])},I(f.typeid.type?f.typeid.msg:"leave type"),3),i("div",xt,[i("div",bt,[s.value.length?R("",!0):(y(),k(H,{key:0,class:"card card-menu card-hover-animate q-pa-md no-shadow cursor-pointer radius-sm q-mr-xs q-mb-xs"},{default:c(()=>[n(D,{class:"text-center"},{default:c(()=>a[11]||(a[11]=[i("div",{class:"text-caption text-dark text-uppercase"},"no record found",-1)])),_:1,__:[11]})]),_:1}))]),s.value.length?(y(!0),te(he,{key:0},xe(s.value,(r,_)=>(y(),te("div",{key:`data-${r.id}`,class:"inner-card-anim-wrapper",style:be({animationDelay:`${_*100}ms`})},[n(H,{onClick:()=>{$.value=r.id},class:le(["card card-menu card-hover-animate q-pa-md no-shadow cursor-pointer radius-sm q-mr-xs q-mb-xs",{"card--active":$.value===r.id}])},{default:c(()=>[n(D,{class:"text-center"},{default:c(()=>[i("div",St,I(r.name),1)]),_:2},1024),i("div",Dt,[n(Ve,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=j=>$.value=j),val:r.id,"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",size:"xs"},null,8,["modelValue","val"])])]),_:2},1032,["onClick","class"])],4))),128)):R("",!0)])])):R("",!0),m.value===1?(y(),te("div",kt,[i("div",Ft,[i("div",{class:le(["text-caption text-uppercase",f.date.type?"text-negative text-italic":"text-grey"])},I(f.date.type?f.date.msg:"date range"),3),n(rt,{modelValue:q.value,"onUpdate:modelValue":[a[1]||(a[1]=r=>q.value=r),a[2]||(a[2]=()=>{Y.value.hide()})],range:"",class:"no-shadow custom-border full-width"},null,8,["modelValue"])]),i("div",null,[i("div",{class:le(["text-caption text-uppercase",f.reason.type?"text-negative text-italic":"text-grey"])},I(f.reason.type?f.reason.msg:"reason"),3),n($e,{modelValue:z.value,"onUpdate:modelValue":a[3]||(a[3]=r=>z.value=r),outlined:"",type:"textarea",error:f.reason.type,"no-error-icon":!0,label:"Enter Reason"},null,8,["modelValue","error"])])])):R("",!0)])])]),_:1})):(y(),k(D,{key:0,class:"col q-pa-none"},{default:c(()=>[n(me(ye),{ref_key:"camera",ref:v},null,512)]),_:1})),n(ve,{class:"q-pa-lg bg"},{default:c(()=>[i("div",Lt,[x.value?R("",!0):(y(),k(N,{key:0,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"scan",onClick:a[4]||(a[4]=r=>K())})),x.value&&m.value>0?(y(),k(N,{key:1,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"previous",onClick:a[5]||(a[5]=()=>{T()})})):R("",!0),x.value&&m.value<we-1?(y(),k(N,{key:2,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"next",onClick:a[6]||(a[6]=()=>{C()})})):R("",!0),x.value&&m.value===we-1?(y(),k(N,{key:3,unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"save",onClick:t})):R("",!0),n(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:a[7]||(a[7]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),n(fe,{showing:p.value,dark:""},{default:c(()=>[i("div",Vt,[n(_e,{size:"xl",color:"white"}),a[12]||(a[12]=i("div",{class:"text-h6 text-white text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},Ut=Se(Et,[["__scopeId","data-v-c6a62279"]]),qt={class:"q-gutter-sm"},Ct={class:"text-center"},jt={__name:"TimeInDialog",props:{modelValue:String,dialogName:String},emits:["update:modelValue"],setup(Q,{emit:A}){const w=Q,b=A,S=pe({get:()=>w.modelValue===w.dialogName,set:o=>{o||b("update:modelValue",null)}}),p=d(!1),v=d(null);d(""),d(null),d(!1);async function U(){const o="/models";await L.ssdMobilenetv1.loadFromUri(o),await L.faceLandmark68Net.loadFromUri(o),await L.faceRecognitionNet.loadFromUri(o),await L.faceExpressionNet.loadFromUri(o)}async function V(){if(!v.value)return null;try{const o=await v.value.snapshot();return await Z(o)}catch(o){return console.error("Error capturing snapshot:",o),null}}function Z(o){return new Promise((l,t)=>{const s=new Image;s.onload=()=>l(s),s.onerror=t,s.src=URL.createObjectURL(o)})}async function G(){const o=await V();if(!o)return null;const l=await oe(o).withFaceLandmarks().withFaceDescriptor();return l?{descriptor:l.descriptor,img:o}:null}const h=o=>{const l=Array.isArray(o)?o:o?.errors||[];Object.keys(Errors).forEach(t=>{Errors[t].type=null,Errors[t].messages=[]}),l.forEach(t=>{Errors[t.path]!==void 0&&(Errors[t.path].type=!0,Errors[t.path].messages.push(t.msg))})};async function x(o){const l=o instanceof ArrayBuffer?o:o instanceof Blob?await o.arrayBuffer():new TextEncoder().encode(String(o)).buffer,t=await crypto.subtle.digest("SHA-256",l);return[...new Uint8Array(t)].map(s=>s.toString(16).padStart(2,"0")).join("")}function K(){const o="device_id";let l=localStorage.getItem(o);return l||(l=crypto.randomUUID(),localStorage.setItem(o,l)),l}async function J(){try{const l=(await navigator.mediaDevices.enumerateDevices()).filter(t=>t.kind==="videoinput");return l[0]?.label||l[0]?.deviceId||"unknown-camera"}catch{return"unknown-camera"}}const X=d([]),$=d(!1),q=async()=>{p.value=!0;try{F.fire({title:"Liveness Check",text:"Please SMILE ðŸ˜Š",allowOutsideClick:!1,didOpen:()=>F.showLoading()});const{passed:o,happy:l}=await z(6e3,.7);if(F.close(),!o){F.fire({icon:"error",title:"Liveness Failed",text:"Please smile clearly to continue."});return}const t=await G(),s=await v.value.snapshot(),u=await x(s),g=K(),m=await J(),E=B.value,C=W.value,T=Array.from(t.descriptor),Y={employee_id:EmployeeStore?.employee?.id||null,descriptor:T,geo_lat:E,geo_lng:C,camera_id:m,device_id:g,image_hash:u,captured_at:new Date().toISOString(),source:"Web"},M=await x(JSON.stringify(Y)),e=new FormData;e.append("descriptor",JSON.stringify(T)),e.append("geo_lat",E??""),e.append("geo_lng",C??""),e.append("camera_id",m),e.append("device_id",g),e.append("image_hash",u),e.append("payload_hash",M),e.append("source","Web"),e.append("captured_at",new Date().toISOString()),e.append("file",s,`capture-${Date.now()}.jpg`);const a=await ae.post("/portal/timein",e,{headers:{"Content-Type":"multipart/form-data"}}),{match:r,employee:_,dtr:j,distance:ee,liveness_passed:ie}=a.data,ce=Math.max(0,Math.min(1,1-Number(ee||0)));if(!r)F.fire({icon:"error",title:"Face Not Recognized",text:"No matching employee found."});else{const de=`${_.first_name} ${_.middle_name??""} ${_.last_name}`.toUpperCase(),ne=new Date(`${j.date}T${j.time}`),ue=ne.toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),re=ne.toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});F.fire({icon:"success",title:"LOG RECORDED",html:`
            <div style="font-size:1.25em;font-weight:bold;">${de}</div>
            <div style="font-size:1em; margin-top:5px;">${ue} @ ${re}</div>
            <div style="font-size:.9em; margin-top:5px;">Score: ${ce.toFixed(4)} | Liveness: ${ie?"Passed":"Failed"}</div>
            `})}b("update:modelValue",null)}catch(o){o.response&&o.response.data&&(h(o.response.data),se.fire({icon:"error",html:`
                    <div class="text-h6 text-bold text-uppercase">Request Failed</div>
                    <div class="text-caption">Something went wrong.</div>
                `}))}finally{p.value=!1}},z=async(o=5e3,l=.7)=>{const t=Date.now();for(;Date.now()-t<o;){const s=await V();if(!s)continue;const u=await oe(s).withFaceLandmarks().withFaceExpressions();if(!u)continue;const g=u.expressions?.happy||0;if(g>=l)return{passed:!0,happy:g};await new Promise(m=>setTimeout(m,200))}return{passed:!1,happy:0}},f=async o=>{await U(),X.value=[],$.value=!1,O()},B=d(null),W=d(null),P=d(null),O=()=>{if(!navigator.geolocation){P.value="Geolocation not supported";return}navigator.geolocation.getCurrentPosition(o=>{B.value=o.coords.latitude,W.value=o.coords.longitude},o=>{P.value=o.message},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};return(o,l)=>(y(),k(ge,{modelValue:S.value,"onUpdate:modelValue":l[2]||(l[2]=t=>S.value=t),persistent:"",class:"dialog",onBeforeShow:l[3]||(l[3]=t=>{f()})},{default:c(()=>[n(H,{class:"dialog-card column full-height"},{default:c(()=>[n(D,{class:"q-pa-lg"},{default:c(()=>l[4]||(l[4]=[i("div",{class:"text-h6 text-uppercase"},"time in",-1)])),_:1,__:[4]}),n(Ee,{inset:""}),n(D,{class:"col q-pa-lg scroll"},{default:c(()=>[n(me(ye),{ref_key:"camera",ref:v},null,512)]),_:1}),n(ve,{class:"q-pa-lg bg",align:"center"},{default:c(()=>[i("div",qt,[n(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"scan",onClick:l[0]||(l[0]=t=>q())}),n(N,{unelevated:"",size:"md",color:"primary",class:"btn text-capitalize",label:"discard",onClick:l[1]||(l[1]=()=>{b("update:modelValue",null)}),outline:""})])]),_:1}),n(fe,{showing:p.value},{default:c(()=>[i("div",Ct,[n(_e,{size:"md"}),l[5]||(l[5]=i("div",{class:"text-caption text-grey text-uppercase q-mt-xs"},"we're working on it!",-1))])]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"]))}},It={class:"card-grid"},Nt={class:"text-h5 text-white text-bold text-uppercase"},zt={__name:"IndexPage",setup(Q){const A=[{label:"biometric",dialog:"BiometricDialog"},{label:"file a leave",dialog:"LeaveDialog"},{label:"track my leave",dialog:"LeaveDialog"}],w=d(null),b=S=>{w.value=S};return(S,p)=>(y(),k(Ce,{view:"lHh Lpr lFf"},{default:c(()=>[n(je,null,{default:c(()=>[n(qe,{class:"full-height flex flex-center page-bg"},{default:c(()=>[i("div",It,[(y(),te(he,null,xe(A,(v,U)=>i("div",{key:`data-${v.id}`,class:"card-anim-wrapper",style:be({animationDelay:`${U*100}ms`})},[n(H,{onClick:V=>b(v.dialog),class:"card card-menu card-hover-animate q-pa-md no-shadow cursor-pointer radius-sm"},{default:c(()=>[n(D,{class:"text-center body"},{default:c(()=>[i("div",Nt,I(v.label),1)]),_:2},1024)]),_:2},1032,["onClick"])],4)),64))]),n(jt,{modelValue:w.value,"onUpdate:modelValue":p[0]||(p[0]=v=>w.value=v),"dialog-name":"TimeInDialog"},null,8,["modelValue"]),n(ct,{modelValue:w.value,"onUpdate:modelValue":p[1]||(p[1]=v=>w.value=v),"dialog-name":"BiometricDialog"},null,8,["modelValue"]),n(Ut,{modelValue:w.value,"onUpdate:modelValue":p[2]||(p[2]=v=>w.value=v),"dialog-name":"LeaveDialog"},null,8,["modelValue"]),p[3]||(p[3]=i("div",{class:"bg-overlay"},null,-1))]),_:1,__:[3]})]),_:1})]),_:1}))}},Qt=Se(zt,[["__scopeId","data-v-2b7e032b"]]);export{Qt as default};
